{"componentChunkName":"component---src-templates-blog-post-js","path":"/system/add-dates-to-filename/","result":{"data":{"site":{"siteMetadata":{"title":"jeonwon.dev","author":"JeonWon","siteUrl":"https://jeonwon.dev","comment":{"disqusShortName":"","utterances":""},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"20a30bd6-cd27-5a60-ba05-8e578118c2b3","excerpt":"토끼 제빵 여러 개의 파일 이름에 생상시간을 자동으로 붙여주는 셸 스크립트입니다. 📁 1. 파일 생성일을 파일이름 앞에 붙이는 스크립트 아래의 셸 스크립트가 작성된 파일(.sh)을 만든 후 변경할 파일들이 저장된 디렉터리 경로를 매개변수로 넘겨주면 됩니다. (실행 명령어 예시: script.sh /file/directory/path) 🗂️ 2. 메타 데이터의 파일 생성일을 파일이름 앞에 붙이는 스크립트 MacOS에서 mdls…","html":"<p><img src=\"/a9a210a557e083f0f4a8a1c33aa8fd78/rabbit_baking.gif\" alt=\"토끼 제빵\"></p>\n<p>여러 개의 파일 이름에 생상시간을 자동으로 붙여주는 셸 스크립트입니다.</p>\n<h2 id=\"-1-파일-생성일을-파일이름-앞에-붙이는-스크립트\" style=\"position:relative;\"><a href=\"#-1-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1%EC%9D%BC%EC%9D%84-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%A6%84-%EC%95%9E%EC%97%90-%EB%B6%99%EC%9D%B4%EB%8A%94-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\" 1 파일 생성일을 파일이름 앞에 붙이는 스크립트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📁 1. 파일 생성일을 파일이름 앞에 붙이는 스크립트</h2>\n<p>아래의 셸 스크립트가 작성된 파일(.sh)을 만든 후 변경할 파일들이 저장된 디렉터리 경로를 매개변수로 넘겨주면 됩니다. (실행 명령어 예시: script.sh /file/directory/path)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 첫 번째 인자로 전달된 경로</span>\n<span class=\"token assign-left variable\">directory</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span>\n\n<span class=\"token comment\"># 경로가 존재하는지 확인</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"경로가 존재하지 않습니다.\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># 디렉터리 내 모든 파일 탐색(filepath: 파일 절대경로)</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">filepath</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/*<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token comment\"># filedate: '년월일_시분초' 형식의 파일 생성일과 시간</span>\n    <span class=\"token assign-left variable\">filedate</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">date</span> <span class=\"token parameter variable\">-r</span> <span class=\"token punctuation\">$(</span>stat <span class=\"token parameter variable\">-f</span> %B <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span><span class=\"token punctuation\">)</span> +%Y%m%d_%H%M%S<span class=\"token variable\">)</span></span> \n    \n    <span class=\"token comment\"># filename: 디렉터리 경로를 제외한 파일 이름</span>\n    <span class=\"token assign-left variable\">filename</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span><span class=\"token variable\">)</span></span>\"</span>\n\n    <span class=\"token comment\"># 파일이름 앞에 파일 생성일과 시간을 붙임</span>\n    <span class=\"token function\">mv</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/<span class=\"token string\">\"<span class=\"token variable\">$filedate</span>\"</span>_<span class=\"token string\">\"<span class=\"token variable\">$filename</span>\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 전: \"</span><span class=\"token variable\">$filepath</span><span class=\"token string\">\"\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 후: \"</span><span class=\"token variable\">$directory</span><span class=\"token string\">\"/\"</span><span class=\"token variable\">$filedate</span><span class=\"token string\">\"_\"</span><span class=\"token variable\">$filename</span><span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<h2 id=\"️-2-메타-데이터의-파일-생성일을-파일이름-앞에-붙이는-스크립트\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-2-%EB%A9%94%ED%83%80-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1%EC%9D%BC%EC%9D%84-%ED%8C%8C%EC%9D%BC%EC%9D%B4%EB%A6%84-%EC%95%9E%EC%97%90-%EB%B6%99%EC%9D%B4%EB%8A%94-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"️ 2 메타 데이터의 파일 생성일을 파일이름 앞에 붙이는 스크립트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🗂️ 2. 메타 데이터의 파일 생성일을 파일이름 앞에 붙이는 스크립트</h2>\n<p>MacOS에서 mdls 명령어를 사용하면 파일의 메타 데이터를 볼 수 있습니다. 이 중 kMDItemContentCreationDate가 파일 생성일을 담고 있는 메타 데이터입니다. 그런데 이 값은 UTC(GMT+0) 시간대이므로 우리나라에서 사용 중인 GMT+9 시간대로 변환해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 첫 번째 인자로 전달된 경로</span>\n<span class=\"token assign-left variable\">directory</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span>\n\n<span class=\"token comment\"># 경로가 존재하는지 확인</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"경로가 존재하지 않습니다.\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># 디렉터리 내 모든 파일 탐색(filepath: 파일 절대경로)</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">filepath</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/*<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token comment\"># filedate_utc: 파일이 생성된 UTC(GMT+0) 시간</span>\n    <span class=\"token assign-left variable\">filedate_utc</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>mdls <span class=\"token parameter variable\">-name</span> kMDItemContentCreationDate <span class=\"token parameter variable\">-raw</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token comment\"># filedate_gmt9: UTC(GMT+0) 시간을 GMT+9 시간대로 변환</span>\n    <span class=\"token assign-left variable\">filedate_gmt9</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token assign-left variable\">TZ</span><span class=\"token operator\">=</span>GMT-9 <span class=\"token function\">date</span> <span class=\"token parameter variable\">-jf</span> <span class=\"token string\">\"%Y-%m-%d %H:%M:%S %z\"</span> <span class=\"token string\">\"<span class=\"token variable\">$filedate_utc</span>\"</span> +<span class=\"token string\">\"%Y%m%d_%H%M%S\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token comment\"># filename: 디렉터리 경로를 제외한 파일 이름</span>\n    <span class=\"token assign-left variable\">filename</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span><span class=\"token variable\">)</span></span>\"</span>\n\n    <span class=\"token comment\"># 파일이름 앞에 파일 생성일과 시간을 붙임</span>\n    <span class=\"token function\">mv</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/<span class=\"token string\">\"<span class=\"token variable\">$filedate_gmt9</span>\"</span>_<span class=\"token string\">\"<span class=\"token variable\">$filename</span>\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 전: \"</span><span class=\"token variable\">$filepath</span><span class=\"token string\">\"\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 후: \"</span><span class=\"token variable\">$directory</span><span class=\"token string\">\"/\"</span><span class=\"token variable\">$filedate_gmt9</span><span class=\"token string\">\"_\"</span><span class=\"token variable\">$filename</span><span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<p>파일이름을 파일 생성일로 변경하는 스크립트는 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 첫 번째 인자로 전달된 경로</span>\n<span class=\"token assign-left variable\">directory</span><span class=\"token operator\">=</span><span class=\"token variable\">$1</span>\n\n<span class=\"token comment\"># 경로가 존재하는지 확인</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"경로가 존재하지 않습니다.\"</span>\n  <span class=\"token builtin class-name\">exit</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># 디렉터리 내 모든 파일 탐색(filepath: 파일 절대경로)</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">filepath</span> <span class=\"token keyword\">in</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/*<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token comment\"># filedate_utc: 파일이 생성된 UTC(GMT+0) 시간</span>\n    <span class=\"token assign-left variable\">filedate_utc</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>mdls <span class=\"token parameter variable\">-name</span> kMDItemContentCreationDate <span class=\"token parameter variable\">-raw</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token comment\"># filedate_gmt9: UTC(GMT+0) 시간을 GMT+9 시간대로 변환</span>\n    <span class=\"token assign-left variable\">filedate_gmt9</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token assign-left variable\">TZ</span><span class=\"token operator\">=</span>GMT-9 <span class=\"token function\">date</span> <span class=\"token parameter variable\">-jf</span> <span class=\"token string\">\"%Y-%m-%d %H:%M:%S %z\"</span> <span class=\"token string\">\"<span class=\"token variable\">$filedate_utc</span>\"</span> +<span class=\"token string\">\"%Y%m%d_%H%M%S\"</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token comment\"># extension: 파일 확장자</span>\n    <span class=\"token assign-left variable\">extension</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">basename</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> -d. <span class=\"token parameter variable\">-f2</span><span class=\"token variable\">)</span></span>\n\n    <span class=\"token comment\"># 파일이름을 파일 생성일로 변경</span>\n    <span class=\"token function\">mv</span> <span class=\"token string\">\"<span class=\"token variable\">$filepath</span>\"</span> <span class=\"token string\">\"<span class=\"token variable\">$directory</span>\"</span>/<span class=\"token string\">\"<span class=\"token variable\">$filedate_gmt9</span>\"</span><span class=\"token builtin class-name\">.</span><span class=\"token string\">\"<span class=\"token variable\">$extension</span>\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 전: \"</span><span class=\"token variable\">$filepath</span><span class=\"token string\">\"\"</span>\n    <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"변경 후: \"</span><span class=\"token variable\">$directory</span><span class=\"token string\">\"/\"</span><span class=\"token variable\">$filedate_gmt9</span><span class=\"token string\">\".\"</span><span class=\"token variable\">$extension</span><span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">fi</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<h2 id=\"-참고-사이트\" style=\"position:relative;\"><a href=\"#-%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\" 참고 사이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>❗ 참고 사이트</h2>\n<ul>\n<li><a href=\"https://macmost.com/add-dates-to-file-or-photo-names-with-an-automator-script.html\">Add Dates To File Or Photo Names With an Automator Script</a></li>\n<li>ChatGPT</li>\n</ul>","frontmatter":{"title":"파일이름 앞에 생성시간을 붙여주는 셸 스크립트","date":"June 20, 2023"}}},"pageContext":{"slug":"/system/add-dates-to-filename/","previous":{"fields":{"slug":"/travel/2023-04-tokyo/tokyo-travel-4-kamakura/"},"frontmatter":{"title":"2023년 4월 도쿄 주변 소도시(가마쿠라) 병맛 여행기"}},"next":{"fields":{"slug":"/coin/binance-futures-python-code/"},"frontmatter":{"title":"파이썬으로 바이낸스 선물 거래하는 코드"}}}},"staticQueryHashes":["2486386679","3128451518"]}